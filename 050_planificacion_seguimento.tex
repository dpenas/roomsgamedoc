\chapter{Planificación y Seguimiento}

En este capítulo detallaramos la planificación de cada una de las iteraciones que hemos hecho durante todos los meses de trabajo, así como el seguimiento que hemos realizado de la misma. La elaboración de este proyecto se llevó a cabo durante alrededor de dos años, comenzando en junio del año 2014 y teniendo un par de parones durante varios meses (desde septiembre de 2014 hasta enero de 2015 y desde mayo de 2015 hasta septiembre del mismo año) a causa de tener que realizar otras actividades que no permitían trabajar en el proyecto al mismo tiempo. También el tiempo dedicado en cada una de las secciones difiere dependiendo del tiempo disponible (durante la mayoría de estos dos años tuve que combinar el proyecto con trabajar a tiempo completo), pero esto es algo que se discutirá en cada una de las secciones individualmente.

Para resumir y clarificar lo que acabamos de comentar, mostramos los periodos de actividad:

\begin{itemize}
  \item Desde junio del año 2014 hasta septiembre del 2014 (3 meses).
  \item Desde enero de 2015 hasta mayo del mismo año (4 meses).
  \item Desde septiembre del 2015 hasta abril de 2016 (8 meses).
\end{itemize}

En las próximas secciones hablaremos de lo que hemos desarrollado durante estos tres periodos de tiempo y las iteraciones seguidas en los mismos.

Cabe destacar que todos los datos y tareas mostradas a continuación están realizadas de forma lineal, dado que solamente disponemos de un recurso.

\section{Junio 2014 - Septiembre 2014}

Este periodo comienza el 4 de junio, que es cuando se nos comenta la posibilidad de realizar este proyecto, y termina el 24 de septiembre, por lo que consta de un total de 15 semanas. Hay que tener en cuenta que durante parte de este verano (desde agosto) es cuando me mudé a Holanda y empiecé mi \textit{internship}, por lo que las jornadas en días laborables solamente constaban de una o dos horas y alrededor de 7/8 horas durante los fines de semana.

Sumando todo el tiempo empleado durante estas semanas se calcula que se han empleado 190 horas en total para la realización en su completitud de las tareas asignadas a esta iteración.

Durante todas estas semanas nuestro principal objetivo es el de recoger toda la información general posible para poder empezar el proyecto con buen pie, así como empezar con la implementación de los mapas y habitaciones que se utilizarán en el juego.

\subsection{Primera iteración: Análisis de requisitos generales, diseño genérico y preparación y configuración de los elementos necesarios para el comienzo de la implementación}

Esta primera iteración empieza el día 4 de junio y termina el 29 del mismo mes. Las tareas realizadas se muestran a continuación:

\paragraph{Análisis de requisitos generales} Al desarrollar un proyecto enfocado a una parte de la población de la que no formas parte, es muy importante documentarse sobre todos los aspectos que hay que tener en cuenta e intentar ponerse en su piel (por ejemplo usar las herramientas que utilizan diariamente para recabar ideas), además de preguntar a diferentes personas para coger distintas perspectivas que luego se puedan incluir en nuestro proyecto.
Àsí mismo, desarrollar un videojuego puede llegar a ser una tarea infinita, dado que es común que tanto a nostros como a los usuarios se nos ocurran nuevas características o ideas que añadir, por eso debemos de sentar las bases que defina lo que es realmente necesario y lo que no para prioritizar. 
Aprender sobre lo básico del género y poner límites es fundamental para centrar los pocos recursos que tenemos en crear lo necesario y luego, si el tenemos tiempo, empezar con la implementación de características a mayores.

\paragraph{Diseño genérico del juego a implementar} Crearemos el primer diseño genérico que nos dará una idea sobre lo que tendremos que realizar y nos guiará sobre el proceso de creación del juego. Este primer boceto cambiará a medida que querramos añadir nuevos elementos y querramos especificar más otros, pero contendrá las partes generales y más básicas de lo que queremos realizar.

\paragraph{Búsqueda de bibliotecas que se adapten a nuestros requisitos} Hay varias bibliotecas con las que se puede crear una interfaz gráfica sencilla como la del videojuego \textit{Rogue} que mencionamos al principio de esta memoria, pero todas ellas tienen sus ventajas e inconvenientes. Debemos de averiguar cuál de ellas es la más adecuada para nuestro caso y tomar una decisión sobre cuál de ellas usar.

\paragraph{Creación y configuración del ambiente de desarrollo para poder empezar la implementación} Al empezar un nuevo proyecto debemos de crear un repositorio en git, instalar todo el software necesario y preparar el entorno de desarrollo para que podamos empezar a programar sin encontrarnos con ninguna dificultad a posteriori.

\subsubsection{Tareas y seguimiento}

La descomposición de las tareas es la siguiente:

\begin{enumerate}[label=\bfseries WBS 1.\arabic*]
  \item Análisis de requisitos generales
    \begin{enumerate}[label=\bfseries WBS 1.1.\arabic*]
      \item Estudio de herramientas para invidentes.
      \item Estudio de los elementos del género \textit{roguelike}.
      \item Analizar los elementos encontrados y especificación de lo que queremos en nuestro caso.
    \end{enumerate}
  \item Diseño genérico del juego a implementar.
  \item Búsqueda de bibliotecas que se adapten a nuestros requisitos.
  \item Creación y configuración del ambiente de desarrollo para poder empezar la implementación.
\end{enumerate}

Para la realización de todas estas tareas se planificaron 65 horas en total. Esta estimación se cumplió sin ningún inconveniente, por lo que el día 30 de junio, todas las tareas habían sido realizadas en su totalidad. Ver la figura ~\ref{fig:sec1it1} para más información sobre cómo se planificaron cada una de las tareas individualmente.

\begin{figure}
    \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{./img/sec1it1.png}
  \caption{Diagrama de Gantt de la primera iteración de la primera etapa}
  \label{fig:sec1it1}
\end{figure}

\subsubsection{Qué hemos conseguido en esta iteración}

Comenzar un nuevo proyecto e investigar sobre un área que nunca hemos experimentado anteriormente, puede ser bastante complicado. En algunas ocasiones la información que nos encontramos puede ser contradictoria o insuficiente, por lo que reconocer lo relevante para nuestro caso es muy importante. Tener idea donde asentar las bases en las que se sembrarán las próximas iteraciones siempre es una tarea ardua y complicada, pero necesaria. En esta iteración hemos sentado estas bases, definiendo lo que debemos de realizar y creando un primer boceto de lo que tendremos que cumplir durante los próximos meses.

\subsubsection{Qué queremos conseguir en la próxima iteración}

Con todo lo básico definido, ahora debemos de materializarlo. Durante las siguientes iteraciones deberemos de empezar a crear el juego en sí, comenzando por la creación de mapas y habitaciones de manera aleatoria.

\subsection{Segunda iteración: Generación de mapas y habitaciones}

Desde el 15 de julio hasta el 24 de septiembre. Se han usado 7 semanas para terminar esta iteración, trabajando entre 2 y 3 horas durante los días de semana y alredor de 6 y 7 horas durante los días de fin de semana.

\paragraph{Análisis de requisitos de los mapas y habitaciones} Hay mucho escrito y realizado sobre la creación de mapas y habitaciones de forma aleatoria para el género de los \textit{roguelikes}. Con toda esta información recogida y recopilada, debemos de elegir lo que queremos realizar en base a diferentes factoras como, por ejemplo, si el tamaño de dicho mapa siempre será el mismo o no, cómo y cuántas habitaciones queremos tener en cada mapa y el tipo de aleatoriedad que debamos de usar (completamente aleatorio o pseudo-aleatorio). Estas decisiones deben de concordar con los objetivos que nos hemos marcado anteriormente.

\paragraph{Diseño de los mapas y las habitaciones} Una vez hayamos creado el análisis de requisitos y tengamos toda la información necesaria sobre la mesa, es hora de crear el diseño. Dicho diseño debe de ser fácilmente extendible para que la realización de pequeños cambios no sean un gran reto.

\paragraph{Creación de tests que cubran lo analizado} Tal y como comentamos anteriormente a la hora de elegir la metodología \ref{sec:metodologiaelegida}, antes de ponernos con la programación, crearemos los tests que especifiquen y cumplan lo diseñado para, posteriormente, empezar con la parte de programación.

\paragraph{Implementación del diseño de mapas y habitaciones} Con el diseño y los tests creados, es hora de la implementación del código analizado y diseñado.

\subsubsection{Tareas y seguimiento}

La descomposición de las tareas es la siguiente:

\begin{enumerate}[label=\bfseries WBS 2.\arabic*]
  \item Análisis de requisitos de los mapas y habitaciones.
    \begin{enumerate}[label=\bfseries WBS 2.1.\arabic*]
      \item Estudio de diferentes algoritmos de creación aleatoria de mapas y habitaciones.
      \item Decisión sobre la estructura y tamaño a elegir en base al tipo del juego.
    \end{enumerate}
  \item Diseño de los mapas y las habitaciones.
  \item Creación de tests que cubran lo analizado.
  \item Implementación del diseño de mapas y habitaciones.
\end{enumerate}

Para la realización de esta segunda iteración se planificaron 125 horas en total, las cuales fueron insuficientes para terminar todas las tareas asignadas inicialmente. Dado que la estimación inicial no fue correcta y no fuimos capaces de finalizar todo lo necesario, tuvimos que dejar la tarea de representar este mapa para la siguiente iteración. Ver la figura ~\ref{fig:sec1it2}

\begin{figure}
    \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{./img/sec1it2.png}
  \caption{Diagrama de Gantt de la segunda iteración de la primera etapa}
  \label{fig:sec1it2}
\end{figure}

\subsubsection{Qué hemos conseguido en esta iteración}

Hemos conseguido generar mapas y habitaciones de manera aleatoria, pero todavía no mostrarlos en la interfaz de usuario. Uno de los puntos esenciales del género de los \textit{roguelike} es su aleatoriedad y conseguir que los mapas puedan ser generador de esta forma es un primer gran punto.

\subsubsection{Qué queremos conseguir en la próxima iteración}

En la siguiente iteración debemos de terminar lo que no hemos conseguido hacer en ésta, por lo que representar estos mapas en la interfaz gráfica toma prioridad. A continuación comenzaremos con la creación de objetos. Dichos objetos es otro de los puntos esenciales del género y poder crearlos de forma sencilla y que se muestren en el mapa es importante tenerlo lo antes posible.

\section{Enero 2015 - Mayo 2015}

Este periodo comienza el 2 de enero, tras los días libres de navidad y nuevo año, y termina el 31 de mayo, en el que pararemos para preparar los exámenes y volver a España por unos días. Por lo tanto, este periodo consta de un total de 21 semanas. Durante estas semanas he estado trabajando a tiempo completo y algunos días se los dediqué a estudiar para los exámenes, por lo que el tiempo semanal empleado fue de alrededor de 12 horas de media, aunque algunas de estas semanas fueron de más trabajo que otras y también hubo periodos de días libres, por lo que la cantidad de horas usadas diariamente no son las mismas durante todos estos meses. La cantidad de horas usadas con más detalle se dan en cada una de las iteraciones mencionadas a continuación.

En total, 170 horas fueron dedicadas para cumplir todas las tareas que teníamos preparadas para este sprint.

Durante el sprint nos hemos centrado en continuar lo realizado anteriormente y, en general, seguir con el desarrollo del juego en sí, centrándonos en los objetos, usuarios, enemigos e interfaz gráfica, pero dejando de lado el tema de las gramáticas para los siguientes sprints.

\subsection{Primera iteración: mapas en IU, análisis, diseño, tests e implementación de los objetos}

Esta primera iteración comienza el 2 de enero y termina el 4 de marzo, por lo que consta de unas 9 semanas en total.

\paragraph{Mostrar los mapas y habitaciones en el interfaz de usuario} En la anterior fase implementamos los mapas, pero no los enseñamos en la interfaz de usuario. En esta ocasión debemos de acabar con esta tarea para terminar con todo lo relacionado con la creación de mapas y poder continuar con el resto de las tareas que teníamos planeadas desde un principio para este sprint.

\paragraph{Análisis de requisitos para sobre los objetos} En un \textit{roguelike} los objetos y la iteración con los mismos son primordiales (algunos roguelikes). Debemos de investigar qué objetos vamos a usar y cómo los representaremos en el mapa diseñado anteriormente.

\paragraph{Crear un diseño simple sobre cómo los objetos interactuarán con el mapa} Crearemos un diseño genérico que nos permita añadir toda clase de objetos de manera sencilla.

\paragraph{Creación de tests que cubran lo analizado} Al igual que antes, es necesario crear primero los tests en vez de empezar con la implementación del diseño directamente. En este caso también añadiremos tests que interactuen mapas y objetos para asegurarnos que no vamos a tener ningún error cuando combinemos ambos.

\paragraph{Implementación de los objetos en el juego} Una vez realizado el análisis, el diseño y los tests, podremos implementar la solución encontrada.

\subsubsection{Tareas y seguimiento}

La descomposición de las tareas es la siguiente:

\begin{enumerate}[label=\bfseries WBS 1.\arabic*]
  \item Mostrar los mapas y habitaciones en el interfaz de usuario.
  \item Análisis de requisitos sobre los objetos.
    \begin{enumerate}[label=\bfseries WBS 1.1.\arabic*]
      \item Buscar información sobre los diferentes tipos de objetos necesarios en el juego.
      \item Estudiar cómo estos objetos deben de interactuar con el mapa.
      \item Decidir y resumir lo encontrado.
    \end{enumerate}
  \item Crear un diseño simple sobre cómo los objetos interactuarán con el mapa.
  \item Creación de tests que cubran lo analizado.
  \item Implementación de los objetos en el juego y su asociación con el propio mapa y habitaciones.
\end{enumerate}

Para la realización de la primera iteración del segundo bloque de trabajo se planificaron 55 horas en total. La estimación fue correcta y fue posible cumplirla, por lo que a principios de marzo tuvimos todas estas tareas terminadas. Ver la figura ~\ref{fig:sec2it1} para más información sobre la distribución de las mismas.

\begin{figure}
    \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{./img/sec2it1.png}
  \caption{Diagrama de Gantt de la primera iteración de la segunda etapa}
  \label{fig:sec2it1}
\end{figure}

\subsubsection{Qué hemos conseguido en esta iteración}

Terminar la tarea restante que nos habíamos dejado del sprint anterior y permitir la realización de diferentes objetos (pociones, armas y armaduras) que los personajes podrán utilizar. También podemos representar dichos objetos en el mapa, además de que la creación de nuevos elementos sea muy sencilla gracias al diseño genérico.

\subsubsection{Qué queremos conseguir en la próxima iteración}

La próxima iteración tendrá que ver con la creación de los personajes. Éste es uno de los pilares esenciales del género y la última pieza que nos falta para tener los elementos primordiales acabados. Por estos motivos es por los que hemos decidido hacerlo a continuación.

\subsection{Segunda iteración: análisis, diseño, tests e implementación de los personajes}

La segunda iteración comienza el 5 de marzo y acaba el 23 de mayo, contando con un total de 7 semanas de duración. Durante estas semanas la cantidad de horas trabajadas fue de 11 horas a la semana.

\paragraph{Análisis de requisitos para sobre personajes} En el juego tendremos un personaje principal, que será controlado por el usuario, y una serie de enemigos con diferentes características que intentarán eliminarle y que el usuario deberá de batir para luchar por su objetivo y conseguir mejores objetos que le ayuden a avanzar en el juego. En esta tarea nos encargaremos de buscar información sobre el tipo de enemigos a crear y diferentes métodos para hacerlo de forma más genérica posible, dado que ser capaz de crear estos enemigos fácilmente es una característica muy importante.

\paragraph{Creación del diseño de los personajes} Una vez hayamos realizado el análisis para obtener la idea de los enemigos y personajes a usar, es hora de crear el diseño. Tal y como hemos comentado en el apartado de análisis, es necesario crear un diseño extendible donde para que aumentar el número de clases de enemigos sea lo más sencillo posible.

\paragraph{Implementación de los tests} Como hasta ahora, antes de empezar con la implementación directamente, debemos de crear tests sobre ello, que nos indicará las características que deben de cumplir y nos ayudará a detectar fallos en la implementación desde el primer momento.

\paragraph{Programación de lo diseñado y analizado previamente} Con el análisis, diseño y tests preparados, podremos realizar la tarea de implementación de la creación de personajes y enemigos. Inicialmente solamente contaremos con tres enemigos a batir que tienen diferentes estadísticas.

\subsubsection{Tareas y seguimiento}

La descomposición de las tareas es la siguiente:

\begin{enumerate}[label=\bfseries WBS 2.\arabic*]
  \item Análisis de requisitos sobre personajes (jugadores y enemigos)
    \begin{enumerate}[label=\bfseries WBS 2.1.\arabic*]
      \item Buscar información sobre los diferentes tipos de enemigos a los que nos enfrentaremos.
      \item Estudiar cómo estos enemigos interectuarán con el mapa y los objetos creados anteriormente.
      \item Decidir y resumir lo encontrado.
    \end{enumerate}
  \item Crear un diseño para crear, fácilmente, nuevos enemigos que aparezcan aleatoriamente en el mapa.
  \item Creación de tests que cubran lo analizado.
  \item Implementación de los enemigos en el juego y su asociación con el propio mapa, habitaciones y objetos.
\end{enumerate}

Para la realización de todas las tareas de este \textit{sprint} se han asignado 80 horas en total, las cuales fueron suficientes para cubrir todo lo que se quiso realizar. Ver la figura ~\ref{fig:sec2it2} para más información sobre cómo se han dividido el número de horas por cada una de las tareas.

\begin{figure}
    \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{./img/sec2it2.png}
  \caption{Diagrama de Gantt de la segunda iteración de la segunda etapa}
  \label{fig:sec2it2}
\end{figure}

\subsubsection{Qué hemos conseguido en esta iteración}

Al igual que con los objetos, hemos conseguido facilitar la creación de diferentes tipos de personajes, así como la representación del mapa de los mismos en la interfaz gráfica. 
Hemos creado un personaje principal (que será controlado por el usuario) y diferentes tipos de enemigos a los que enfrentarse (\textit{goblins}, ratas y dragones). Ambos tipos (el personaje principal y los enemigos) se muestran en el mapa de forma diferente para que sea sencilla su identificación.

\subsubsection{Qué queremos conseguir en la próxima iteración}

El estado del proyecto actualmente es bastante avanzado. Al final de este \textit{sprint} tenemos el mapa creado aleatoriamente y en él podemos mostrar objetos y personajes con facilidad, además de que crear nuevos objetos o personajes es algo triviaul. El siguiente paso consiste en que los personajes puedan interactuar con los objetos para que podamos realizar acciones como recoger objetos, equiparlos, tirarlos... El siguiente paso sería que los personajes interactúen entre sí para que sea posible que se ataquen entre ellos de diferentes maneras.

\subsection{Tercera iteración: interacción entre personajes, tests e implementación}

Esta última iteración de la sección, y la más corta, comienza el 24 de mayo y acaba el 31 del mismo mes, por lo que su duración es solamente de una semana, aunque es una semana que tenemos libre, por lo que las horas al día que empleamos en el proyecto es alrededor de 6 en vez 1 o 2, que es lo que solíamos trabajar en las iteraciones anteriores.

En la segunda iteración de esta sección teníamos el objetivo de crear los personajes y enemigos y que éstos fueran capaces de ser representados en la interfaz gráfica. En este caso daremos un paso más allá y deberemos de añadir funciones para que dichos personajes puedan comunicarse y usar los objetos que hemos creado: crearemos un inventario para que puedan almacernarlos y, de tal modo, el usuario y enemigos puedan tener la habilidad de coger objetos (del mapa al inventario), tirarlos (del inventario al mapa), equiparlos (del inventario al personaje) y desequiparlos (del personaje al inventario). Cuando un personaje muera, los objetos se tirarán la mapa para que el resto puedan cogerlos.

\paragraph{Ampliar los tests sobre la interacción entre los objetos y personajes} En la iteración anterior fuimos capaces de crear los personajes de forma genérica y en este caso deberemos crear nuevas funciones que ayuden a la interacción entre los objetos y los personajes, tal y como acabamos de describir.

\paragraph{Implementación en base a los tests, análisis y diseño de la anterior iteración} El diseño y el análisis ya lo tenemos hecho y, una vez tengamos los tests creados, podremos realizar la implementación.

\subsubsection{Tareas y seguimiento}

La descomposición de las tareas es la siguiente:

\begin{enumerate}[label=\bfseries WBS 3.\arabic*]
  \item Ampliar los tests que tengan que ver con la interacción entre los objetos y personajes
  \item Implementación en base al diseño de la anterior iteración y los nuevos tests creados.
\end{enumerate}

\begin{figure}
    \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{./img/sec2it3.png}
  \caption{Diagrama de Gantt de la tercera iteración de la segunda etapa}
  \label{fig:sec2it3}
\end{figure}

Al ser un pequeño sprint y teniendo más tiempo del normal, hemos sido capaces de terminarlo sin mayor problema. El diagrama de Gantt puede verse en la figura ~\ref{fig:sec2it3} y en él se indicará cómo hemos dividido estas dos tareas y cuánto tiempo dedicamos a cada una de ellas.

\subsubsection{Qué hemos conseguido en esta iteración}

En esta iteración hemos conseguido que los personajes y objetos interacciones de una forma básica, lo que nos permitirá, en un futuro, que los personajes utilicen estos objetos para interaccionar entre ellos mismos.

\subsubsection{Qué queremos conseguir en la próxima iteración}

Aumentar esta interacción entre personajes. Por ejemplo, que un usuario pueda ser capaz de atacar a un personaje y que, dependiendo de los objetos equipados, el daño realizado sea mayor. 
También dedicaremos algo de tiempo en dar control al usuario, por lo que tendremos que diseñar la manera de que el usuario pueda decidir moverse, atacar, coger un objeto del mapa, etc. y pensar la manera de distribuir todas estas teclas.

\section{Septiembre 2015 - Abril 2016}

Este periodo empieza el 1 de septiembre, tras un breve descanso en verano, y termina el 31 de abril. Durante este tiempo hemos empleado más tiempo que anteriormente en el proyecto y desarrollando mucho más que durante las iteraciones anteriores (alrededor de 20 horas a la semana durante todos estos meses). También hemos buscado \textit{feedback} sobre lo que hemos realizado y, una vez recibido, también tuvimos tiempo disponible para poder tenerlo en cuenta e implementarlo durante las últimas iteraciones de este sprint asegurarnos, de este emodo, de que lo que hemos realizado es aceptado por la comunidad.

Tal y como se puede calcular, este periodo consta de un total de 34 semanas, siendo el periodo más largo de todos los que hemos tenido hasta ahora.

En total, 680 horas fueron dedicadas para este sprint.

\subsection{Primera iteración: Aumentar interacción entre objetos, mapas y personajes, añadir movimiento para el jugador}

Esta primera iteración da comienzo el 1 de septiembre y acaba el 5 de octubre. Su duración total es de 5 semanas.

\paragraph{Aumentar la interacción entre objetos, personajes y mapa} Hasta el momento tenemos el mapa, objetos y personajes, pero debemos de ser capaces de interactuar completamente (sobre todo entre los personajes, dado que entre personajes y objetos ya lo hemos realizado en iteraciones anteriores) y aumentar en características. Por ejemplo añadiendo puertas entre habitaciones que también se muestren en el mapa, que los personajes puedan atacarse entre sí (teniendo en cuenta las armaduras y armas que llevan) y la creación de un campo de visión para que el usuario solamente pueda ver lo que hay a su alrededor y no todo el mapa, habitaciones, objetos y enemigos que se han generado.

\paragraph{Agregar \textit{listeners} para que el jugador pueda decidir lo que hacer} En este momento el jugador no puede hacer nada, dado que no hemos creado un sistema para que el usuario pueda moverse o atacar. Ahora es el momento de introducir los elementos necesarios para que nos podamos mover por el mapa y realizar todas las acciones implementadas anteriormente con nuestro personaje.

\subsubsection{Tareas y seguimiento}

La descomposición de las tareas es la siguiente:

\begin{enumerate}[label=\bfseries WBS 1.\arabic*]
  \item Aumentar la interacción entre objetos, personajes y mapa.
    \begin{enumerate}[label=\bfseries WBS 1.1.\arabic*]
      \item Crear tests para los elementos posteriores
      \item Añadir puertas que unan las habitaciones para que el jugador pueda pasar de habitación a habitación.
      \item Añadir la posibilidad de ataque entre personajes.
      \item Añadir un campo de visión al usuario para que no sea capaz de ver todo el mapa, pero solamente cierta área a su alrededor.
    \end{enumerate}
  \item Agregar \textit{listeners} para que el jugador pueda decidir lo que hacer.
\end{enumerate}

Hemos asignado 100 horas para la estimación de este \textit{sprint}, las cuales cumplimos sin problema. Ver la figura ~\ref{fig:sec3it1} para ver el diagrama de Gantt y obtener más información sobre la división de las tareas de forma más detallada.

\begin{figure}
    \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{./img/sec3it1.png}
  \caption{Diagrama de Gantt de la primera iteración de la tercera etapa}
  \label{fig:sec3it1}
\end{figure}

\subsubsection{Qué hemos conseguido en esta iteración}

Al acabar esta iteración tenemos lo básico de un juego: el usuario puede moverse por el mapa usando el teclado, coger objetos y combatir enemigos (aunque estos enemigos todavía no tienen inteligencia artificial, por lo que no se mueven) e ir de habitación en habitación.

\subsubsection{Qué queremos conseguir en la próxima iteración}

En la próxima iteración deberemos terminar lo básico del juego para poder empezar a diseñar la parte de las gramáticas y la generación automática de frases. Para ello tendremos que implementar el sistema de portales (que nos transportarán a un mapa completamente diferente, consiguiendo puntos de esta manera), añadir básica inteligencia artifial a los enemigos e incorporar la opción de cambiar el color de la interfaz de usuario para que se adapte a los jugadores daltónicos, tal y como hemos explicado en la sección \ref{sec:daltonicossolventar}

\subsection{Segunda iteración: Diseño e implementación de los portales, IA de los enemigos y accesibilidad para daltónicos}

Esta segunda iteración comienza el 6 de octubre y termina el 8 de noviembre, con 4 semanas y media para su completa realización.

\paragraph{Diseño e implementación de los portales} El sistema de portales fue la idea principal que tuvimos para crear un sistema de puntuación y progreso para el usuario. El objetivo está en encontrar el portal dentro del mapa y, una vez encontrado, un nuevo mapa será generado, con otro portal en una posición diferente a la anterior. De esta manera, la meta del juego se centra en derrotar enemigos (consiguiendo mejores armas y armaduras en el proceso) para encontrar el mayor número de portales posibles, consiguiendo así mejor puntuación.
Deberemos de diseñar e implementar estos portales en esta iteración, dado que otorgará de un objetivo al juego.

\paragraph{Añadir inteligencia artificial} Dependiendo del enemigo al que nos enfrentemos, éste se comportará de forma distinta. Habrá enemigos que sean activos y vayan contra el usuario, mientras que otros serán pasivos y no querrán atacar al usuario. Puede ser que en el futuro queramos incrementar el número de este tipo de comportamientos, por lo que deberemos de diseñarlo de la mejor forma.

\paragraph{Añadir opciones para cambiar el color de la interfaz gráfica} El punto central de este proyecto es la accesibilidad e incluir una opción para que daltónicos puedan disfrutar de nuestro juego es decisivo.

\subsubsection{Tareas y seguimiento}

La descomposición de las tareas es la siguiente:

\begin{enumerate}[label=\bfseries WBS 2.\arabic*]
  \item Diseño e implementación de los portales.
    \begin{enumerate}[label=\bfseries WBS 2.1.\arabic*]
      \item Diseñar la mejor manera para incluir los portales en nuestro diseño (en el análisis es algo que se había considerado hacer).
      \item Creación de los tests.
      \item Implementación de los portales.
    \end{enumerate}
  \item Añadir inteligencia artificial.
  	\begin{enumerate}[label=\bfseries WBS 2.2.\arabic*]
      \item Diseñar la mejor manera para incluir diferentes tipos de IA.
      \item Crear los tests de IA.
      \item Implementar esta IA para los enemigos.
    \end{enumerate}
  \item Añadir opciones para cambiar el color de la interfaz gráfica para usuarios daltónicos
\end{enumerate}

48 horas fueron las que creímos suficientes para la estimación del \textit{sprint} y que fueron necesarias para la conclusión del mismo con todas las tareas terminadas. Ver la figura ~\ref{fig:sec3it2} como referencia para recabar más información sobre la distribución de las tareas mencionadas en este \textit{sprint}.

\begin{figure}
    \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{./img/sec3it2.png}
  \caption{Diagrama de Gantt de la segunda iteración de la tercera etapa}
  \label{fig:sec3it2}
\end{figure}

\subsubsection{Qué hemos conseguido en esta iteración}

Con esta última iteración tenemos la parte básica del juego completada. Hay un objetivo, enemigos con IA que deberemos de batir, diferentes objetos que podemos coger, puertas que conectan distintas habitaciones y varias acciones que se pueden realizar y que nos permitirán interactuar con el resto de elementos que acabamos de mencionar.

\subsubsection{Qué queremos conseguir en la próxima iteración}

Con el juego en sí completado (o por lo menos la parte primordial), es hora de empezar a analizar y diseñar la parte de la generación automática del lenguaje y estudiar su relación con lo que ya tenemos terminado.

\subsection{Tercera iteración: Análisis, diseño básico y comienzo de la implementación de las gramáticas}

Esta segunda iteración comienza el 9 de noviembre y termina el 31 de diciembre, con 6 semanas y media para su finalización.

\paragraph{Análisis de las gramáticas} Una parte muy importante del juego es crear frases que sean generadas de forma automática y pseudo-aleatoria en base a una serie de gramáticas y diccionario dado. Si conseguimos realizar esto, traducir nuestro juego a diferentes idiomas sería trivial (solamente tendríamos que cambiar la gramática en caso de que en dicho idioma sea diferente y traducir el diccionario empleado). Para ello tendremos que investigar cómo podemos hacerlo en nuestro caso de la manera más genérica posible y cómo han solventado este problema otros proyectos similares.

\paragraph{Diseño general sobre la generación del lenguaje} Una vez hemos analizado y decidido lo que debemos de realizar, crearemos un diseño lo más simple y adaptable posible para la generación de dichas frases en base a las gramáticas dadas. El objetivo primordial es que la traducción y la adición de nuevas palabras sea lo más fácil posible para que añadir variedad sea una tarea sencilla.

\paragraph{Creación de gramáticas y diccionarios base} Para empezar el desarrollo necesitamos tener una gramática y diccionaro base con lo que poder ver los diferentes resultados obtenidos. Empezaremos con gramáticas y diccionarios en inglés, dado que sus restricciones son más fáciles que en otros idiomas.

\subsubsection{Tareas y seguimiento}

La descomposición de las tareas es la siguiente:

\begin{enumerate}[label=\bfseries WBS 3.\arabic*]
  \item Análisis de las gramáticas.
    \begin{enumerate}[label=\bfseries WBS 3.1.\arabic*]
      \item Leer la información que existe sobre la generación automática de lenguaje.
      \item Estudiar cómo lo podemos implementar en nuestro proyecto con lo ya existente.
      \item Tomar la decisión en base a lo encontrado y sentar las bases sobre ello.
    \end{enumerate}
  \item Diseño general sobre la generación del lenguaje y cómo las gramáticas interactuarán con nuestro programa.
  \item Creación de gramáticas y diccionarios base para tener una base con lo que testar lo que implementaremos.
\end{enumerate}

Hemos reservado 130 horas para esta iteración y hemos conseguido terminar todas las tareas asignadas a tiempo. Ver la figura ~\ref{fig:sec3it3} para ver el diagrama de Gantt asociado y obtener más información sobre esta iteración.

\begin{figure}
    \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{./img/sec3it3.png}
  \caption{Diagrama de Gantt de la tercera iteración de la tercera etapa}
  \label{fig:sec3it3}
\end{figure}

\subsubsection{Qué hemos conseguido en esta iteración}

Hemos sentado las bases de lo que queremos implementar con las gramáticas en un futuro y hemos empezado a crear gramáticas y diccionarios en inglés que iremos ampliando y que servirán de base para el resto de idiomas.

\subsubsection{Qué queremos conseguir en la próxima iteración}

En la siguiente iteración empezaremos creando los tests para definir cómo las frases automáticas deben de generarse y empezaremos con el desarrollo de lo que hemos investigado en esta iteración.

\subsection{Cuarta iteración: Análisis, diseño y comienzo de la implementación de las gramáticas}

Esta segunda iteración comienza el 1 de enero y termina el 14 de enero. Es decir, solamente durará 2 semanas.

\paragraph{Análisis sobre cómo crear las gramáticas NP} Las gramáticas NP\footnote{Gramáticas de sintagma nominal.} son básicas para describir substantivos usando, solamente determinantes y adjetivos, pero no iguales en todos los idiomas (por ejemplo, su orden cambian entre inglés y castellano o gallego). Debemos de estudiar qué planteamientos existen que faciliten su implementación de la forma más genérica posible.

\paragraph{Diseño de las gramáticas NP} Las frases de sintagma nominal serán las más usadas dentro de nuestro juego. No solamente serán utilizadas para la generación de las frases, pero también a la hora de representar los elementos en la interfaz de usuario. Por ello debemos de crearlas de la forma más extendible y accesible que podamos.

\paragraph{Creación de los tests para las gramáticas NP} Al igual que en otras iteraciones, realizamos los tests antes de empezar con ningún tipo de implementación para tener una base sobre cómo las funciones y clases deben de comportase.

\paragraph{Implementación de las gramáticas NP} Con los tests realizados, debemos de empezar con la implementación. Tenemos que tener en cuenta que hay que ser capaces de sustituir las clases de palabras por las palabras en sí que se encuentran en el diccionario. También hay que tener en cuenta las restricciones posibles. Por el momento solamente contamos con las restricciones que existen en inglés. Es decir, restricciones en número.

\subsubsection{Tareas y seguimiento}

La descomposición de las tareas es la siguiente:

\begin{enumerate}[label=\bfseries WBS 4.\arabic*]
  \item Análisis sobre cómo crear las gramáticas NP de forma genérica y fácilmente extendibles para otros idiomas.
  \item Diseño de las gramáticas NP.
  \item Creación de los tests para las gramáticas NP.
  \item Implementación de las gramáticas NP y \textit{link} con el diccionario.
\end{enumerate}

Hemos reservado 40 horas para esta iteración y terminamos todas las tareas a tiempo. Ver la figura ~\ref{fig:sec3it4} para más información y para ver el diagrama de Gantt que muestra la distribución de tiempo durante estas semanas para estas tareas.

\begin{figure}
    \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{./img/sec3it4.png}
  \caption{Diagrama de Gantt de la cuarta iteración de la tercera etapa}
  \label{fig:sec3it4}
\end{figure}

\subsubsection{Qué hemos conseguido en esta iteración}

Al finalizar esta iteración hemos conseguido generar sintagmas nominales de forma pseudo-aleatoria que recogen la información en las gramáticas y diccionarios dados. De momento esto solamente está disponible en inglés, pero su implementación en otros idiomas es sencillo y será algo que se realizará en iteraciones posteriores.

\subsubsection{Qué queremos conseguir en la próxima iteración}

Aumentar lo que las gramáticas pueden generar para que lo que generamos no solamente sean sintagmas nominales, pero también frases que usen estos sintagmas nominales. De esta forma podríamos crear todo tipo de clases que serían capaces de describir todo lo que tenemos en nuestro juego sin problema.

\subsection{Quinta iteración: Análisis, diseño e implementación de las gramáticas y frases más complejas}

Esta segunda iteración comienza el 15 de enero y termina el 29 de enero. Es decir, tiene 2 semanas y media de duración, un poco más que la anterior.

\paragraph{Análisis sobre cómo crear las gramáticas complejas de forma genérica} Una vez somos capaces de crear sintagmas nominales, deberemos de ser capaces de combinarlos con otros elementos del lenguaje como verbos para crear frases que sean capaces de describir todo lo que realmente deseamos. Deberemos de analizar las diferentes formas de hacer esto.

\paragraph{Diseño de dichas gramáticas} Una vez hemos analizado y decidido los pasos que vamos a seguir, nos quedará realizar el diseño del mismo.

\paragraph{Creación de los tests para las gramáticas complejas} Al igual que en las veces anteriores, tendremos que crear los tests antes de empezar con la implementación para estar seguros de que lo que implementamos sea coherente con lo que queremos realizar.

\paragraph{Implementación y \textit{link} con el diccionario} Implementar las gramáticas más complejas que se comuniquen con las gramáticas NP y nos permitan generar frases que describan lo que ocurre en el juego de forma aleatoria y automática.

\subsubsection{Tareas y seguimiento}

La descomposición de las tareas es la siguiente:

\begin{enumerate}[label=\bfseries WBS 5.\arabic*]
  \item Análisis sobre cómo crear las gramáticas complejas de forma genérica, extendibles para otros idiomas y que hagan uso de las NP.
  \item Diseño de dichas gramáticas.
  \item Creación de los tests para las gramáticas complejas, al igual que su relación con las NP y diccionario.
  \item Implementación y \textit{link} con el diccionario.
\end{enumerate}

Hemos reservado 48 horas para esta iteración y la hemos acabado a tiempo. En la figura ~\ref{fig:sec3it5} se muestra el diagrama de Gantt de esta iteración.

\begin{figure}
    \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{./img/sec3it5.png}
  \caption{Diagrama de Gantt de la quinta iteración de la tercera etapa}
  \label{fig:sec3it5}
\end{figure}

\subsubsection{Qué hemos conseguido en esta iteración}

Tener gramáticas que generen frases de manera pseudo-aleatoria para todas las descripciones que contemplamos actualmente en el juego. Estas nuevas gramáticas utilizan lo creado en la iteración anterior para formar frases complejas. También hemos aumentado el tipo de palabras a usar (ahora incluimos verbos y una mayor cantidad de adjetivos y sustantivos), por lo que el diccionario en ingés va creciendo. En esta iteración todavía no hemos añadido diccionarios o gramáticas en otros idiomas.

\subsubsection{Qué queremos conseguir en la próxima iteración}

Las frases son generadas, pero todavía no las mostramos en ninguna parte de la interfaz gráfica, por lo que el jugador no puede ni verla ni escucharla. En el siguiente \textit{sprint} tenemos que añadir esta opción, además de añadir otros idiomas (es decir, añadir las gramáticas y diccionarios) como el gallego y español, lo que significará añadir las restricciones adicionales que tienen de género.

\subsection{Sexta iteración: Implementación de las restricciones, gallego y castellano, creación de la interfaz de usuario para con las frases generadas y primer vídeo}

La sexta iteración dará comienzo el 30 de enero y terminará el 6 de febrero, por lo que solamente tiene 1 semana de desarrollo, una de las más cortas del todo el proyecto, pero fue una semana de 8 horas al día en la práctica, por lo que en total fueron 56 horas de trabajo en la misma.

\paragraph{Creación de la interfaz de usuario para mostrar las frases generadas al usuario} Hasta ahora somos capaces de generar frases que describan lo que sucede en el juego, pero no las mostramos. Ahora es el momento de mostrar en una ventana la frase generada (similar a un \textit{popup}).

\paragraph{Implementación de las restricciones para el resto de idiomas} En inglés solamente tenemos la restrición en número entre palabras, pero otros idiomas, como el castellano o gallego, tienen otras restricciones adicionales como la restricción en género. Tenemos que tener esto en cuenta e introducirlo en el código.

\paragraph{Añadir gramáticas y diccionarios para gallego y castellano} La idea desde un principio fue en tener el proyecto en la mayor cantidad posible de idiomas, por lo que añadirlo en gallego y castellano es importante. Para ello tendremos que traducir las gramáticas y diccionarios a ambos idiomas y crear una opción para elegir su uso en un fichero de configuración.

\paragraph{Añadir las teclas necesarias para mostrar las descripciones del inventario y ambiente} El usuario podrá pedir que se genere una frase que describa algo en concreto. Se debería de realizar en base a lo que está especificado en el diagrama de casos de uso.

\paragraph{Crear primer vídeo para recibir \textit{feedback}} Al terminar esta iteración tendremos la base del proyecto completada. Por ello crearemos un vídeo mostrando el punto en el que estamos y con el que recibiremos comentarios con los que podremos crear mejoras en las futuras iteraciones \footnote{\url{https://www.youtube.com/watch?v=RgND1IGZ-68}}.

\subsubsection{Tareas y seguimiento}

La descomposición de las tareas es la siguiente:

\begin{enumerate}[label=\bfseries WBS 6.\arabic*]
  \item Creación de la interfaz de usuario para mostrar las frases generadas al usuario.
  \item Añadir las teclas necesarias para mostrar las descripciones del inventario y ambiente, tal y como está definido en el diagrama de casos de uso.
  \item Implementación de las restricciones para el resto de idiomas.
  \item Añadir gramáticas y diccionarios para gallego y castellano.
  \item Crear primer vídeo para recibir \textit{feedback}.
\end{enumerate}

En la figura ~\ref{fig:sec3it6} se muestra el diagrama de Gantt de esta iteración. Hemos reservado, tal y como ya hemos comentado, 56 horas, que fueron suficientes para terminar todas las tareas mencionadas. En dicha figura mostraremos la distribución del tiempo que hemos pasado en cada una de las tareas.

\begin{figure}
    \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{./img/sec3it6.png}
  \caption{Diagrama de Gantt de la sexta iteración de la tercera etapa}
  \label{fig:sec3it6}
\end{figure}

\subsubsection{Qué hemos conseguido en esta iteración}

Terminar el funcionamiento básico de las gramáticas en dos idiomas adicionales (inglés, español y gallego), generando las frases necesarias para que el usuario tenga toda la información necesaria y creando un vídeo que nos ayudará a mostrar el funcionamiento del juego a toda la gente interesada par que poder mejorarlo en base a sus comentarios.

\subsubsection{Qué queremos conseguir en la próxima iteración}

Debemos de esperar por los comentarios recibidos en el vídeo y, mientras, podremos mejorar diferentes aspectos y características del juego haciendo las tareas que tenemos en el \textit{backlog}.

\subsection{Séptima iteración: Resolución de bugs detectados y añadidas pequeñas funcionalidades}

La séptima iteración empieza el 7 de febrero y acaba el 21 de febrero, con una duración de 2 semanas, volviendo a las 20 horas de trabajo por semana y 40 horas en total para la iteración. Se han decidido dar un par de semanas de margen para poder leer y recopilar el \textit{feedback} recibido de la iteración anterior.

\paragraph{Solucionar bug donde la pantalla no se refresca} En algunas ocasiones y al realizar ciertas acciones, la interfaz gráfica no se actualiza hasta la siguiente acción. Tenemos que solucionar este problema para que lo que se muestre siempre sea lo más nuevo y no haya ningún tipo de retraso.

\paragraph{Cambiar las teclas que usamos por defecto} Las teclas que tenemos por defecto no son del todo intuitivas. Deberemos de cambiarlo para que tengan más sentido.

\paragraph{Hacer los adjetivos que definen los personajes variables} Si un enemigo tiene poca vida y el personaje que controla el usuario tiene mucha más vida, habrá la posibilidad de que el adjetivo a usar sobre el enemigo sea ``pequeño'', ``insignificante''... mientras que si es al revés, se usará ``grande'', ``poderoso'', de forma que se verá al enemigo de forma diferente.

\paragraph{Añadir opción para que las descripciones sean descriptivas o numéricas} Cuando escuchamos una descripción, a veces queremos que dicha descripción sea numérica, es decir, que mencione exactamente la vida o posición de los personajes. Otras veces deseamos que esto no sea así y que todas las descripciones se hagan de una forma más poética y se usen palabras para las definiciones. Crearemos una opción en la que el usuario será capaz de seleccionar lo que prefiera.

\subsubsection{Tareas y seguimiento}

La descomposición de las tareas es la siguiente:

\begin{enumerate}[label=\bfseries WBS 7.\arabic*]
  \item Solucionar bug donde la pantalla no se refresca cuando es necesario.
  \item Cambiar las teclas que usamos por defecto.
  \item Cambiar los adjetivos que definen los personajes dependiendo de la vida de dichos personajes.
  \item Añadir opción para que las descripciones sean descriptivas o numéricas, dependiendo de lo que el usuario desee.
\end{enumerate}


En la figura ~\ref{fig:sec3it7} se muestra el diagrama de Gantt de esta iteración.

\begin{figure}
    \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{./img/sec3it7.png}
  \caption{Diagrama de Gantt de la séptima iteración de la tercera etapa}
  \label{fig:sec3it7}
\end{figure}

\subsubsection{Qué hemos conseguido en esta iteración}

Mejorar el juego en diferentes aspectos al añadir nuevas funcionalidades que afectarán directamente al jugador y solucionar algunos de los \textit{bugs} que fueron detectados mientras jugábamos.

\subsubsection{Qué queremos conseguir en la próxima iteración}

El día 19 de febrero es cuando recibimos el feedback que presentamos en la anterior iteración, así que crearemos un sprint donde podamos analizarla e implementar los cambios que nos piden.

\subsection{Octava iteración: Implementación en base al \textit{feedback} recibido}

En esta iteración implementaremos los cambios más importantes sobre el \textit{feedback} recibido. Dado que estos comentarios pueden llevar bastante tiempo (quizás haya más cambios o los realizados desencadenan más ideas a implementar), es mejor terminarlos en menor tiempo posible para poder recibir \textit{feedback} más rápidamente.
Por este motivo esta iteración contará solamente con 4 días y 20 horas en total, empezando el 22 y acabando el 26, que es cuando crearemos un nuevo vídeo con los cambios realizados durante las últimas dos iteraciones.

\subsubsection{Feedback recibido}

Todo este feedback es el recibido por parte de mis supervisores que a su vez se basaron en lo que ellos mismos y otros usuarios les han comentado.

\paragraph{Tener en cuenta la persistencia del tiempo} Si matamos a un enemigo, sería una buen adición que las descripciones lo tuvieran en cuenta. Por ejemplo a la hora de enumerar los elementos que hay alrededor del usuario, se podría comentar que también se encuentra un ``goblin'' muerto.

\paragraph{Cambiar el sistema de salida de las frases generadas} Hasta ahora, cada vez que una frase era generada (tanto a petición del usuario o en base a algo que ha sucedido en el juego), mostrábamos una nueva ventana con dicha frase, que tendríamos que cerrar en cada ocasión. Esto es un inconveniente para aquellas personas que sí pueden ver y no quieren ser molestados por este tipo de ventanas y para los usuarios invidentes tampoco es la mejor solución disponible, dado que no es lo que se suelen encontrar en otros juegos del género. Lo que mayoría de juegos usan es una \textit{textarea}, es decir, una ventana aparte donde se vaya almacenando todas las frases generadas, de tal forma que siempre podemos volver a ella cuando queramos y servirá como un log. Lo importante está en cambiar el ``foco'' del juego a esta ventana cada vez que una frase sea generada para que el lector sea capaz de leerla.

\paragraph{Pequeños cambios en los adjetivos usados} En algunas ocasiones usábamos adjetivos poco comunes a la hora de definir ciertos nombres. Tenemos que cambiarlo para que dichos adjetivos tengan sentido.

\paragraph{Adición de niveles y experiencia} Los enemigos, armas y el propio usuario deberían de tener niveles para que el juego escale en dificultad. Cada vez que se destruye un enemigo, el personaje del usuario ganará una serie de puntos que serán usados para subir niveles y, a su vez, cambien el tipo de enemigos a los que se enfrentarán para que la progresión tenga sentido.

\paragraph{Cambio en la aleatoriedad} Hasta ahora, todo lo generado era aleatorio (el tipo de enemigos que nos encontrábamos, los objetos que soltaban, los propios objetos encontrados...). Es mejor que esta aleatoriedad venga dada por el nivel del usuario para que el juego escale mejor en dificultad. Esto se explica con mayor profundidad en la sección: ~\ref{generado}.

\paragraph{Evitar la repetitividad} Algunas de las frases que generamos tienden a ser bastante repetitivas (el héroe desequipa la espada, el héroe desequipa la armadura...), en vez de tener un lenguaje más natural (el héroe desequipa la espada, la armadura...). Esto sucede en un par de casos y debemos de tratarlo.

\paragraph{Darle nombre al héroe} Siempre nos referimos al personaje que controla el usuario como ``héroe'' o por su pronombre (``él''). Podríamos darle un nombre o dejar que el usuario elija para dar una mayor variedad.

\paragraph{Mostrar una serie de estadísticas al cambiar de mazmorra} Cuando pasamos de una mazmorra a otra usando el portal, podríamos mostrar una serie de estadísticas de los enemigos batidos, la cantidad de experiencia obtenida, el nivel actual del usuario...

A mayores, crearemos otro vídeo informando sobre los cambios que hemos realizado en base a estos comentarios \footnote{\url{https://www.youtube.com/watch?v=3lS0WFrwOeQ}}.

\subsubsection{Tareas y seguimiento}

La descomposición de las tareas que realizaremos este \textit{sprint} es la siguiente:

\begin{enumerate}[label=\bfseries WBS 8.\arabic*]
  \item Tener en cuenta la persistencia del tiempo.
  \item Cambiar el sistema de salida de las frases generadas.
  \item Pequeños cambios en los adjetivos usados.
  \item Adición de niveles y experiencia.
  \item Cambio en la aleatoriedad.
  \item Evitar la repetitividad.
\end{enumerate}

En la figura ~\ref{fig:sec3it8} se muestra el diagrama de Gantt de esta iteración.

\begin{figure}
    \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{./img/sec3it8.png}
  \caption{Diagrama de Gantt de la octava iteración de la tercera etapa}
  \label{fig:sec3it8}
\end{figure}

\subsubsection{Qué hemos conseguido en esta iteración}

Hemos conseguido implementar los cambios más importantes en base a los comentarios recibidos, teniendo así un juego mucho más sólido y adaptado a lo que la comunidad ha considerado más importante.

\subsubsection{Qué queremos conseguir en la próxima iteración}

En la próxima iteración, que será la última, tendremos que seguir implementando algunas de las tareas que se encuentran en el \textit{backlog} y debemos de tener en cuenta el \textit{feedback} del resto de usuarios, así como el que recibamos de esta iteración.
Las tareas que no vayamos a implementar porque no son completamente necesarias deberán de añadirse al \textit{backlog} para que otros desarrolladores o nosotros mismos podamos tenerlas en cuenta en el futuro.

\subsection{Novena iteración: Más implementación en base al \textit{feedback} recibido}

En esta última iteración daremos los últimos retoques en base al \textit{feedback} recibido de la anterior iteración. Esta última itereación empieza el día 3 de abril, que es cuando recibimos dicho \textit{feedback}, y termina el 13 de abril, fecha que hemos decidido suficiente para terminar las tareas que mencionaremos a continuación. La cantidad de horas usada es la misma que en la anterior iteración, 5 horas al día, por lo que en total trabajaremos 50 horas para finalizar todas las tareas asociadas.

\subsubsection{Feedback recibido}

\paragraph{Añadir el resto de signos de puntuación necesarios} Algunas de las frases son generadas con los signos de puntuación correspondientes, pero todavía existen partes que no tienen estos signos de puntuación.

\paragraph{Incrementar el tamaño de la fuente dentro del área de texto} El texto que usamos en la \textit{textarea} no es muy grande, por lo que podría causar problemas a aquellas personas con dificultad para leer. Debemos de incrementar el tamaño de la fuente.

\paragraph{Generar todas las frases con las gramáticas} En el juego tenemos algunas frases que no usan las gramáticas para ser generadas (como cuando el usuario muere). Tenemos que cambiar esto para que se adapte al resto del juego y puedan ser fácilmente traducibles.

\paragraph{Cuando pulsemos una tecla en la \textit{textarea}, el resultado debería de afectar el juego} Cuando pulsamos una tecla mientras el foco está en el área de texto, el foco cambia para el juego, pero la tecla pulsada no es ejecutada en el juego. Esto es lo que debemos de cambiar.

\paragraph{Cambiar el tamaño y situación de las ventanas.} El juego tiene dos ventanas. La primera de ellas la interfaz gráfica que muestra el juego en sí, mientras que la segunda es donde se encuentran las frases generadas. Tenemos que hacer cambios para que desde el inicio ambas se sitúen en el espacio correspondiente y no se molesten entre sí.

\paragraph{Refactorizar el código} Durante el último sprint algunos de los módulos contienen código que no es el adecuado. Debemos de refactorizarlo.

\subsubsection{Tareas y seguimiento}

La descomposición de las tareas que realizaremos este \textit{sprint} es la siguiente:

\begin{enumerate}[label=\bfseries WBS 9.\arabic*]
  \item Añadir el resto de signos de puntuación necesarios.
  \item Incrementar el tamaño de la fuente dentro del área de texto.
  \item Generar todas las frases con las gramáticas.
  \item Cuando pulsemos una tecla en la \textit{textarea}, el resultado debería de afectar el juego.
  \item Cambiar el tamaño y situación de las ventanas.
  \item Refactorizar el código.
\end{enumerate}

En la figura ~\ref{fig:sec3it9} se muestra el diagrama de Gantt de esta iteración.

\begin{figure}
    \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{./img/sec3it9.png}
  \caption{Diagrama de Gantt de la novena iteración de la tercera etapa}
  \label{fig:sec3it9}
\end{figure}

\subsubsection{Qué hemos conseguido en esta iteración}

Terminamos de implementar los puntos más importantes que faltaban o necesitaban revisión del juego entregado, por lo que al final esta iteración tenemos un juego sólido y listo para ser jugado y extendible por el resto de la comunidad.

\subsubsection{Qué queremos conseguir en la próxima iteración}
Esta ha sido la última iteración ``oficial'' del proyecto. En el futuro el juego seguirá evolucionando con nuevas características y aspectos, pero actualmente ha llegado al punto necesario para considerar esta primera versión como finalizada.

Durante el resto de semanas nos dedicaremos a introducir nuevos idiomas (o por lo menos buscar miembros de la comunidad que nos puedan ayudar en esta tarea), dar a conocer nuestro juego a distintas personas y comunidades online para que lo prueben y nos digan lo que creen que debe de ser mejorable o añadido (documentando todo el \textit{feedback} recibido) y creando la documentación del propio juego.